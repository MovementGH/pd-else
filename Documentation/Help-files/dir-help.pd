#N canvas 591 74 562 762 10;
#X obj 23 40 cnv 4 4 4 empty empty Access 0 28 2 18 #e0e0e0 #000000 0;
#X obj 80 40 cnv 4 4 4 empty empty file 0 28 2 18 #e0e0e0 #000000 0;
#X obj 2 3 cnv 15 301 42 empty empty dir 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 3 graph;
#X obj 305 4 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 304 3 pd;
#X obj 344 11 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 457 11 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 477 11 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 514 11 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 463 26 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 501 26 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 4 368 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 559 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 670 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 729 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 154 239 bng 17 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 128 265 else/dir;
#X text 141 564 symbol -;
#X obj 109 39 cnv 4 4 4 empty empty directory 0 28 2 18 #e0e0e0 #000000 0;
#X msg 114 156 dump;
#X msg 128 176 dir;
#X text 99 373 open <symbol> -;
#X text 159 428 dir -;
#X text 203 428 outputs the current directory in the right outlet, f 54;
#X text 153 442 dump -;
#X obj 76 376 cnv 17 3 179 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 76 565 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 153 470 bang -;
#X obj 76 585 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 203 564 the files from the directory, f 54;
#X text 147 414 reset -;
#X text 203 414 resets to patch's directory, f 54;
#X obj 143 315 else/display 50;
#X msg 83 114 open ..;
#X msg 98 135 reset;
#X text 171 456 n -;
#X text 105 484 seek <float> -;
#X text 153 498 next -;
#X text 203 484 seeks and output the file corresponding to that number;
#X text 203 498 increments seek value and outputs file, f 54;
#N canvas 622 38 713 746 open 0;
#X text 66 72 For example \, "open samples" looks for a subdirectory named 'samples' relative to the current directory. More than one level of subdirectories (like "open samples/wav") can be given., f 77;
#X obj 48 322 else/dir;
#X msg 48 266 open \$1 \, dir;
#X symbolatom 48 241 40 0 0 0 - - - 0;
#X obj 93 347 else/display 2;
#X text 123 351 "1" if successfully opened \, "0" otherwise;
#X text 66 113 To open the parent directory you can use "open .." \, and "open ." will just reopen the same directory. You can also use "./" or "../" \, and using "../../" will open the grandparent folder and so on. If you ask for "../sounds" \, then it looks for a subfolder named "sounds" in the parent directory. This is how Pd handles relative directories in general anyway \, so nothing really new here..., f 77;
#X text 72 376 (If a directory can't be opened \, the previously opened remains), f 63;
#X obj 72 547 openpanel 1;
#X obj 72 520 bng 17 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 72 612 else/dir;
#X msg 72 575 open \$1 \, dir;
#X obj 87 664 else/display;
#X text 96 515 You can use [openpanel] to search for a directory to open., f 31;
#X text 66 20 The 'open' message expects a symbol defining a directory. If the symbol starts with "/" (non windows machines) or "c:" (for instance \, in windows machines) then it means the symbol specifies an absolute path. Otherwise \, [dir] will look for directories relative to the current directory., f 77;
#X msg 73 295 reset \, dir;
#X text 145 295 resets to the default directory;
#X text 66 187 When using the open message \, the rightmost outlet sends an open flag ("1" if the directory has been successfully opened \, and 0 otherwise)., f 77;
#X text 56 458 Opening a directory also loads its contents so you can query for files. If you change the contents of your directory \, you need to use the 'reopen' message to reload the direcory's contents., f 79;
#X obj 117 635 else/display 2;
#X obj 63 408 else/display;
#X msg 179 574 open;
#X text 224 562 Note: if you use 'open' without a symbol \, a dialog window opens for you to choose the directory (same as clicking on the object), f 44;
#X connect 1 1 20 0;
#X connect 1 3 4 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 10 1 12 0;
#X connect 10 3 19 0;
#X connect 11 0 10 0;
#X connect 15 0 1 0;
#X connect 21 0 10 0;
#X restore 482 214 pd open;
#X text 129 675 1) float -;
#X text 123 711 1) symbol -;
#X text 203 675 (optional) relative directory level \, 0 is current patch's directory \, 1 is parent's patch's \, 2 parent's parent's and so on (default 0), f 54;
#X text 203 711 directory to open (default: relative directory level), f 54;
#X obj 76 625 cnv 17 3 17 empty empty 3 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 147 626 float -;
#X text 203 626 "1" if opened a new directory \, "0" if it couldn't open;
#X text 105 526 ext <symbol> -;
#X text 203 526 sets extension, f 54;
#X obj 4 646 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X text 105 652 -ext <symbol>:;
#X text 203 652 - sets file extension type, f 54;
#N canvas 560 38 618 558 arguments 0;
#X obj 111 198 else/display;
#X msg 92 146 dir;
#X text 86 247 Note that the [dir] object can be inside any layers of subpatches inside an abstraction or a patch to get the patch's directory \, it doesn't matter., f 75;
#X text 86 26 If [dir] is used inside an abstraction \, the first optional argument sets the abstraction's depth level and can be used to query the parent patch's directory. for instance \, "0" (the default) is the current patch level \, but "1" sets the default directory to the parent's patch., f 75;
#X msg 87 388 dir;
#X obj 92 173 else/dir 1;
#X text 86 78 A depth level outside the possible range are ignored. For instance \, in this example we ask for the parent's directory \, but this is not an abstraction \, so it loads the patch's directory instead., f 75;
#X obj 108 485 else/display;
#X text 177 418 <= a reset message resets to the default;
#X text 195 429 directory set by the first argument, f 37;
#X msg 106 419 reset \, dir;
#X text 86 279 The second symbol argument (which can also be the first \, since the first float argument is optional) specifies a directory to open. The directory can be an absolute path \, otherwise it's a path relative to the directory level specified by the first argument (or the current patch's directory if no float argument is given). For instance \, an 'x' symbol searches for a 'x' subfolder. You can also use '..' to specify a parent patch (more about this syntax in the [pd open] subpatch)., f 75;
#X text 163 458 <= parent folder directory relative to patch's directory;
#X obj 87 459 else/dir ..;
#X connect 1 0 5 0;
#X connect 4 0 13 0;
#X connect 5 1 0 0;
#X connect 10 0 13 0;
#X connect 13 1 7 0;
#X restore 453 193 pd arguments;
#X text 203 399 reloads contents of the last opened directory, f 54;
#X obj 158 287 else/display 4;
#X obj 76 605 cnv 17 3 17 empty empty 2 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 147 606 float -;
#X text 141 585 symbol -;
#X text 203 585 the current directory, f 54;
#X text 203 606 'n' number of found files, f 54;
#X obj 128 344 print Files;
#X msg 138 196 n, f 2;
#X msg 148 217 n \, dir \, dump;
#X obj 202 261 else/display 2;
#X text 141 399 reopen -;
#X text 203 442 dump files from directory in the (second outlet), f 54;
#X text 203 456 output number of found files in the (third outlet), f 54;
#X text 203 470 outputs 'n' \, 'directory' and dumps files, f 54;
#X msg 60 92 open ~;
#X text 104 92 <-- "~" expands to the home directory;
#X text 134 113 <-- opens parent directory;
#X text 138 134 <-- resets to patch's directory;
#X text 147 155 <-- dump all files from the directory (left outlet);
#X text 155 175 <-- sends directory path (second outlet);
#X text 156 195 <-- sends number of files (third outlet);
#X text 233 216 <-- same as "bang";
#X text 174 239 <-- same as "n \, dir \, dump";
#X text 227 264 <-- open flag;
#X text 198 290 <-- 'n' number of files.;
#X text 49 318 'directory' -->;
#X text 34 256 Click chooses directory --->, f 14;
#N canvas 689 147 581 530 seek/random 0;
#X msg 374 239 seek \$1;
#X obj 374 211 nbx 5 14 0 8 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 444 301 else/display;
#X obj 374 338 else/display;
#X msg 331 234 n;
#X msg 439 240 next;
#X text 72 76 The 'next' message increments the seek value and will also wrap according to the number of files., f 74;
#X msg 99 229 seek \$1;
#X obj 83 291 else/display;
#X obj 99 202 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 99 126 bng 18 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X msg 60 228 next;
#X obj 83 383 else/display;
#X obj 99 261 else/dir, f 15;
#X obj 186 153 nbx 4 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X msg 83 356 \$2/\$1;
#X obj 99 176 else/rand.i 1 1;
#X obj 374 272 else/dir -ext .wav;
#X obj 83 327 pack s s;
#X obj 183 231 else/initmess n \, dir;
#X text 110 432 Note that the files are sorted with case sensitivity \, in the same way as in the shell/terminal. This means upper case letters are sorted before lower case letters., f 66;
#X text 235 151 n;
#X text 72 15 The 'n' message outputs the number of found files in the opened directory in the 3rd outlet. The seek message can search for a file according to a number. If the seek number is greater than the number of files \, then the search is wrapped according to the number of files. The seek number is indexed from '1' and clipped to '1' if < 1!, f 74;
#X msg 350 176 random;
#X text 120 126 <= manually choose random file from the "else" library folder, f 62;
#X text 400 171 choose random .wav files, f 13;
#X connect 0 0 17 0;
#X connect 1 0 0 0;
#X connect 4 0 17 0;
#X connect 5 0 17 0;
#X connect 7 0 13 0;
#X connect 8 0 18 0;
#X connect 9 0 7 0;
#X connect 10 0 16 0;
#X connect 11 0 13 0;
#X connect 13 0 8 0;
#X connect 13 1 18 1;
#X connect 13 2 14 0;
#X connect 14 0 16 2;
#X connect 15 0 12 0;
#X connect 16 0 9 0;
#X connect 17 0 3 0;
#X connect 17 2 2 0;
#X connect 18 0 15 0;
#X connect 19 0 13 0;
#X connect 23 0 17 0;
#X restore 440 256 pd seek/random;
#X text 141 512 random -;
#X text 203 512 output a random file from the directory, f 54;
#X text 203 373 open a directory (absolute or relative) and load its contents. Just 'open' calls a dialog window, f 54;
#X text 222 62 [dir] accesses directories and its contents.;
#N canvas 862 120 333 332 extension 0;
#X obj 95 210 print;
#X msg 108 129 ext .aif;
#X msg 126 154 ext .wav;
#X text 33 19 You can ask [dir] to access only files of a certain extension. This can be set via a flag or the 'ext' message. By default \, [dir] accesses all files., f 41;
#X msg 95 98 ext;
#X text 120 97 <= sets to all extensions;
#X text 39 252 Changing the extension reopens and reloads the directory's contents. Therefore \, the contents get updated if they've changed and you don't need a 'reopen' message for that., f 42;
#X msg 54 130 dump;
#X obj 95 181 else/dir -ext .wav;
#X connect 1 0 8 0;
#X connect 2 0 8 0;
#X connect 4 0 8 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X restore 452 235 pd extension;
#N canvas 840 200 396 289 show/hide 0;
#X obj 146 173 else/dir, f 15;
#X msg 146 113 show;
#X msg 159 143 hide;
#X text 96 37 The show/hide message shows and hides a window with all the directory contents \, which are stored internally in a [else/store] object., f 40;
#X text 111 212 Shift+clicking on the object is the same as the "show" message., f 32;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X restore 453 277 pd show/hide;
#X text 123 541 show/hide -;
#X text 203 541 show or hide internal window with contents, f 54;
#X connect 16 0 17 0;
#X connect 17 0 62 0;
#X connect 17 1 33 0;
#X connect 17 2 56 0;
#X connect 17 3 65 0;
#X connect 20 0 17 0;
#X connect 21 0 17 0;
#X connect 34 0 17 0;
#X connect 35 0 17 0;
#X connect 63 0 17 0;
#X connect 64 0 17 0;
#X connect 70 0 17 0;
